{"ast":null,"code":"var _jsxFileName = \"/Users/hojiakbarnasriddinov/Desktop/REACT/Success/Xpress/Shop/src/Pages/Product/Product.js\",\n    _s = $RefreshSig$();\n\nimport { React, useState, useEffect } from \"react\";\nimport \"./Product.css\";\nimport { Product1 } from \"../../Components/ProductComponent/ProductView\";\nimport { Pagination } from \"../../Components/ProductComponent/Paginate\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { acLoading } from \"../../Redux/Loading\";\nimport axios from \"axios\";\nimport { Search } from \"../../Components/ProductComponent/Search\";\nimport { acSort } from \"../../Redux/Sort\";\nimport { acSortedProduct } from \"../../Redux/Sort\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function Product() {\n  _s();\n\n  const [posts, setPosts] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [postsPerPage] = useState(15);\n  const [search, setSearch] = useState(\"\");\n  const sortedPR = useSelector(state => state.sortedProduct);\n  const sort = useSelector(state => state.sort);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(acLoading(true));\n    axios(`${\"https://xpress.pandashop.uz/api/product\"}`, {\n      headers: {\n        token: \"qev234-23fvg24-vg24tae\"\n      }\n    }).then(res => {\n      setPosts(res.data);\n      dispatch(acLoading(false));\n    }).catch(err => {\n      console.log(err);\n      dispatch(acLoading(false));\n    });\n  }, [dispatch]);\n  useEffect(() => {\n    if (sort === \"all\") {\n      dispatch(acSortedProduct(posts));\n    } else if (sort === \"productHighToLow\") {\n      const productHighToLow = posts.filter(item => item.price);\n      const sortHighToLow = productHighToLow.sort((a, b) => {\n        return b.price - a.price;\n      });\n      dispatch(acSortedProduct(sortHighToLow));\n    } else if (sort === \"priceLowToHigh\") {\n      const priceLowToHigh = posts.filter(item => item.price);\n      const sortPriceLowToHigh = priceLowToHigh.sort((a, b) => {\n        return a.price - b.price;\n      });\n      dispatch(acSortedProduct(sortPriceLowToHigh));\n    } else if (sort === \"sortByView\") {\n      const sortByView = posts.filter(item => item.view);\n      const sortedByView = sortByView.sort((a, b) => {\n        return b.view - a.view;\n      });\n      dispatch(acSortedProduct(sortedByView));\n    } else if (sort === \"recentlyAdded\") {\n      const recentlyAdded = posts.filter(item => item.id);\n      const sortRecentlyAdded = recentlyAdded.sort((a, b) => {\n        return b.id - a.id;\n      });\n      dispatch(acSortedProduct(sortRecentlyAdded));\n    }\n  }, [posts, sort, dispatch]);\n  const soughtPost = sortedPR.filter(item => item.name.toLowerCase().includes(search)); // Get current posts\n\n  const indexOfLastPost = currentPage * postsPerPage;\n  const indexOfFirstPost = indexOfLastPost - postsPerPage;\n  const currentPosts = soughtPost.slice(indexOfFirstPost, indexOfLastPost); // Change page\n\n  const paginate = pageNumber => {\n    setCurrentPage(pageNumber);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"ProductPage\",\n      children: [/*#__PURE__*/_jsxDEV(Search, {\n        setSearch: setSearch\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        onChange: e => {\n          dispatch(acSort(e.target.value));\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"all\",\n          children: \"All\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"productHighToLow\",\n          children: \"Price: high to low\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"priceLowToHigh\",\n          children: \"Price: low to high\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"sortByView\",\n          children: \"Sort by view\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"receAdded\",\n          children: \"Recently added\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Product1, {\n        data: currentPosts\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n        postsPerPage: postsPerPage,\n        totalPosts: soughtPost.length,\n        paginate: paginate,\n        currentPage: currentPage,\n        setCurrentPage: setCurrentPage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(Product, \"U3B8D2sEafXTkyKuin7bnNDXlnc=\", false, function () {\n  return [useSelector, useSelector, useDispatch];\n});\n\n_c = Product;\n\nvar _c;\n\n$RefreshReg$(_c, \"Product\");","map":{"version":3,"names":["React","useState","useEffect","Product1","Pagination","useDispatch","useSelector","acLoading","axios","Search","acSort","acSortedProduct","Product","posts","setPosts","currentPage","setCurrentPage","postsPerPage","search","setSearch","sortedPR","state","sortedProduct","sort","dispatch","headers","token","then","res","data","catch","err","console","log","productHighToLow","filter","item","price","sortHighToLow","a","b","priceLowToHigh","sortPriceLowToHigh","sortByView","view","sortedByView","recentlyAdded","id","sortRecentlyAdded","soughtPost","name","toLowerCase","includes","indexOfLastPost","indexOfFirstPost","currentPosts","slice","paginate","pageNumber","e","target","value","length"],"sources":["/Users/hojiakbarnasriddinov/Desktop/REACT/Success/Xpress/Shop/src/Pages/Product/Product.js"],"sourcesContent":["import { React, useState, useEffect } from \"react\";\nimport \"./Product.css\";\nimport { Product1 } from \"../../Components/ProductComponent/ProductView\";\nimport { Pagination } from \"../../Components/ProductComponent/Paginate\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { acLoading } from \"../../Redux/Loading\";\nimport axios from \"axios\";\nimport { Search } from \"../../Components/ProductComponent/Search\";\nimport { acSort } from \"../../Redux/Sort\";\nimport { acSortedProduct } from \"../../Redux/Sort\";\n\nexport function Product() {\n  const [posts, setPosts] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [postsPerPage] = useState(15);\n  const [search, setSearch] = useState(\"\");\n  const sortedPR = useSelector((state) => state.sortedProduct);\n  const sort = useSelector((state) => state.sort);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(acLoading(true));\n    axios(`${\"https://xpress.pandashop.uz/api/product\"}`, {\n      headers: {\n        token: \"qev234-23fvg24-vg24tae\",\n      },\n    })\n      .then((res) => {\n        setPosts(res.data);\n        dispatch(acLoading(false));\n      })\n      .catch((err) => {\n        console.log(err);\n        dispatch(acLoading(false));\n      });\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (sort === \"all\") {\n      dispatch(acSortedProduct(posts));\n    } else if (sort === \"productHighToLow\") {\n      const productHighToLow = posts.filter((item) => item.price);\n      const sortHighToLow = productHighToLow.sort((a, b) => {\n        return b.price - a.price;\n      });\n      dispatch(acSortedProduct(sortHighToLow));\n    } else if (sort === \"priceLowToHigh\") {\n      const priceLowToHigh = posts.filter((item) => item.price);\n      const sortPriceLowToHigh = priceLowToHigh.sort((a, b) => {\n        return a.price - b.price;\n      });\n      dispatch(acSortedProduct(sortPriceLowToHigh));\n    } else if (sort === \"sortByView\") {\n      const sortByView = posts.filter((item) => item.view);\n      const sortedByView = sortByView.sort((a, b) => {\n        return b.view - a.view;\n      });\n      dispatch(acSortedProduct(sortedByView));\n    } else if (sort === \"recentlyAdded\") {\n      const recentlyAdded = posts.filter((item) => item.id);\n      const sortRecentlyAdded = recentlyAdded.sort((a, b) => {\n        return b.id - a.id;\n      });\n      dispatch(acSortedProduct(sortRecentlyAdded));\n    }\n  }, [posts, sort, dispatch]);\n\n  const soughtPost = sortedPR.filter((item) =>\n    item.name.toLowerCase().includes(search)\n  );\n  // Get current posts\n  const indexOfLastPost = currentPage * postsPerPage;\n  const indexOfFirstPost = indexOfLastPost - postsPerPage;\n  const currentPosts = soughtPost.slice(indexOfFirstPost, indexOfLastPost);\n\n  // Change page\n  const paginate = (pageNumber) => {\n    setCurrentPage(pageNumber);\n  };\n\n  return (\n    <>\n      <div id=\"ProductPage\">\n        <Search setSearch={setSearch} />\n        <select\n          onChange={(e) => {\n            dispatch(acSort(e.target.value));\n          }}\n        >\n          <option value=\"all\">All</option>\n          <option value=\"productHighToLow\">Price: high to low</option>\n          <option value=\"priceLowToHigh\">Price: low to high</option>\n          <option value=\"sortByView\">Sort by view</option>\n          <option value=\"receAdded\">Recently added</option>\n        </select>\n        <Product1 data={currentPosts} />\n        <Pagination\n          postsPerPage={postsPerPage}\n          totalPosts={soughtPost.length}\n          paginate={paginate}\n          currentPage={currentPage}\n          setCurrentPage={setCurrentPage}\n        />\n      </div>\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}