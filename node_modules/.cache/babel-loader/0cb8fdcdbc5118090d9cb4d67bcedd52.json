{"ast":null,"code":"var _jsxFileName = \"/Users/hojiakbarnasriddinov/Desktop/REACT/Success/Xpress/Shop/src/Components/Ordering/Ordering.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport \"./Ordering.css\";\nimport { useSelector } from \"react-redux\";\nimport { PatternFormat } from \"react-number-format\";\nimport axios from \"axios\";\nimport { toast } from \"react-toastify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function Ordering(_ref) {\n  _s();\n\n  let {\n    allPrice\n  } = _ref;\n  const card = useSelector(state => state.product);\n  const [phone, setPhone] = useState(\"\");\n  const api = process.env.REACT_APP_API;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      id: \"ordering\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"ordering department\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => {\n          e.preventDefault();\n          var data = JSON.stringify({\n            customer: e.target.surname.value,\n            date: new Date().toJSON(),\n            phone: `${phone}`,\n            total: `${allPrice}`,\n            orders: card\n          });\n          var config = {\n            method: \"post\",\n            url: `${api}/order`,\n            headers: {\n              \"Content-Type\": \"application/json\"\n            },\n            data: data\n          };\n          axios(config).then(function (response) {\n            toast(response.data.message);\n            localStorage.clear(card);\n            console.log(response.data);\n          }).catch(function (error) {\n            toast(error.response.data.message);\n          });\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          autoComplete: \"off\",\n          name: \"surname\",\n          placeholder: \"First Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(PatternFormat, {\n          value: phone,\n          format: \"+99 8(##) ### ####\",\n          allowEmptyFormatting: true,\n          mask: \"_\",\n          onValueChange: e => {\n            console.log();\n            setPhone(e.floatValue);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          value: \"placing an order\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(Ordering, \"h2Jlciv8i+RcsQFGVqZcTKWrVw8=\", false, function () {\n  return [useSelector];\n});\n\n_c = Ordering;\n\nvar _c;\n\n$RefreshReg$(_c, \"Ordering\");","map":{"version":3,"names":["React","useState","useSelector","PatternFormat","axios","toast","Ordering","allPrice","card","state","product","phone","setPhone","api","process","env","REACT_APP_API","e","preventDefault","data","JSON","stringify","customer","target","surname","value","date","Date","toJSON","total","orders","config","method","url","headers","then","response","message","localStorage","clear","console","log","catch","error","floatValue"],"sources":["/Users/hojiakbarnasriddinov/Desktop/REACT/Success/Xpress/Shop/src/Components/Ordering/Ordering.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport \"./Ordering.css\";\nimport { useSelector } from \"react-redux\";\nimport { PatternFormat } from \"react-number-format\";\nimport axios from \"axios\";\nimport { toast } from \"react-toastify\";\n\nexport function Ordering({ allPrice }) {\n  const card = useSelector((state) => state.product);\n  const [phone, setPhone] = useState(\"\");\n  const api = process.env.REACT_APP_API;\n\n  return (\n    <>\n      <section id=\"ordering\">\n        <h2>ordering department</h2>\n        <form\n          onSubmit={(e) => {\n            e.preventDefault();\n\n            var data = JSON.stringify({\n              customer: e.target.surname.value,\n              date: new Date().toJSON(),\n              phone: `${phone}`,\n              total: `${allPrice}`,\n              orders: card,\n            });\n\n\n            var config = {\n              method: \"post\",\n              url: `${api}/order`,\n              headers: {\n                \"Content-Type\": \"application/json\",\n              },\n              data: data,\n            };\n\n            axios(config)\n              .then(function (response) {\n                toast(response.data.message);\n                localStorage.clear(card)\n                console.log(response.data);\n              })\n              .catch(function (error) {\n                toast(error.response.data.message);\n              });\n          }}\n        >\n          <input type=\"text\" autoComplete=\"off\" name=\"surname\" placeholder=\"First Name\" />\n          <PatternFormat\n            value={phone}\n            format=\"+99 8(##) ### ####\"\n            allowEmptyFormatting\n            mask=\"_\"\n            onValueChange={(e) => {\n              console.log();\n              setPhone(e.floatValue);\n            }}\n          />\n          <input type=\"submit\" value=\"placing an order\" />\n        </form>\n      </section>\n    </>\n  );\n}\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAO,gBAAP;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,aAAT,QAA8B,qBAA9B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,QAAsB,gBAAtB;;;AAEA,OAAO,SAASC,QAAT,OAAgC;EAAA;;EAAA,IAAd;IAAEC;EAAF,CAAc;EACrC,MAAMC,IAAI,GAAGN,WAAW,CAAEO,KAAD,IAAWA,KAAK,CAACC,OAAlB,CAAxB;EACA,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAMY,GAAG,GAAGC,OAAO,CAACC,GAAR,CAAYC,aAAxB;EAEA,oBACE;IAAA,uBACE;MAAS,EAAE,EAAC,UAAZ;MAAA,wBACE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAEE;QACE,QAAQ,EAAGC,CAAD,IAAO;UACfA,CAAC,CAACC,cAAF;UAEA,IAAIC,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAe;YACxBC,QAAQ,EAAEL,CAAC,CAACM,MAAF,CAASC,OAAT,CAAiBC,KADH;YAExBC,IAAI,EAAE,IAAIC,IAAJ,GAAWC,MAAX,EAFkB;YAGxBjB,KAAK,EAAG,GAAEA,KAAM,EAHQ;YAIxBkB,KAAK,EAAG,GAAEtB,QAAS,EAJK;YAKxBuB,MAAM,EAAEtB;UALgB,CAAf,CAAX;UASA,IAAIuB,MAAM,GAAG;YACXC,MAAM,EAAE,MADG;YAEXC,GAAG,EAAG,GAAEpB,GAAI,QAFD;YAGXqB,OAAO,EAAE;cACP,gBAAgB;YADT,CAHE;YAMXf,IAAI,EAAEA;UANK,CAAb;UASAf,KAAK,CAAC2B,MAAD,CAAL,CACGI,IADH,CACQ,UAAUC,QAAV,EAAoB;YACxB/B,KAAK,CAAC+B,QAAQ,CAACjB,IAAT,CAAckB,OAAf,CAAL;YACAC,YAAY,CAACC,KAAb,CAAmB/B,IAAnB;YACAgC,OAAO,CAACC,GAAR,CAAYL,QAAQ,CAACjB,IAArB;UACD,CALH,EAMGuB,KANH,CAMS,UAAUC,KAAV,EAAiB;YACtBtC,KAAK,CAACsC,KAAK,CAACP,QAAN,CAAejB,IAAf,CAAoBkB,OAArB,CAAL;UACD,CARH;QASD,CA/BH;QAAA,wBAiCE;UAAO,IAAI,EAAC,MAAZ;UAAmB,YAAY,EAAC,KAAhC;UAAsC,IAAI,EAAC,SAA3C;UAAqD,WAAW,EAAC;QAAjE;UAAA;UAAA;UAAA;QAAA,QAjCF,eAkCE,QAAC,aAAD;UACE,KAAK,EAAE1B,KADT;UAEE,MAAM,EAAC,oBAFT;UAGE,oBAAoB,MAHtB;UAIE,IAAI,EAAC,GAJP;UAKE,aAAa,EAAGM,CAAD,IAAO;YACpBuB,OAAO,CAACC,GAAR;YACA7B,QAAQ,CAACK,CAAC,CAAC2B,UAAH,CAAR;UACD;QARH;UAAA;UAAA;UAAA;QAAA,QAlCF,eA4CE;UAAO,IAAI,EAAC,QAAZ;UAAqB,KAAK,EAAC;QAA3B;UAAA;UAAA;UAAA;QAAA,QA5CF;MAAA;QAAA;QAAA;QAAA;MAAA,QAFF;IAAA;MAAA;MAAA;MAAA;IAAA;EADF,iBADF;AAqDD;;GA1DetC,Q;UACDJ,W;;;KADCI,Q"},"metadata":{},"sourceType":"module"}